@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  --brand-primary: #7C3AED; /* updated at runtime */
  --bg: inherit;            /* can be overridden at runtime */
  --panel: inherit;         /* can be overridden at runtime */
  --text: inherit;          /* can be overridden at runtime */

  --radius-md: 10px;
  --radius-lg: 14px;
  --shadow-1: 0 2px 12px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.05);
  --shadow-2: 0 8px 24px rgba(0,0,0,0.10);
}

html, body, .stApp {
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', sans-serif;
  color: var(--text);
  background: var(--bg);
}

.block-container { padding-bottom: 2rem; }

[data-testid="stSidebar"] { background: var(--panel); border-right: 1px solid rgba(0,0,0,0.06); min-width: 320px; }

.streamlit-expanderHeader, .st-expanderHeader { font-weight: 600 !important; }
.st-expander { border-radius: var(--radius-md); border: 1px solid rgba(0,0,0,0.06); box-shadow: var(--shadow-1); overflow: hidden; }

.stButton > button {
  background: var(--brand-primary) !important;
  border: none !important;
  color: #fff !important;
  font-weight: 600 !important;
  border-radius: 10px !important;
  padding: 0.6rem 1rem !important;
  box-shadow: var(--shadow-1);
  transition: transform 0.02s ease-in-out, filter 0.15s ease;
}
.stButton > button:hover { filter: brightness(1.04); }
.stButton > button:active { transform: translateY(1px); }

.stTextInput > div > div > input,
.stTextArea textarea,
.stSelectbox > div > div,
.stNumberInput input { border-radius: 10px !important; box-shadow: var(--shadow-1); }

.stCheckbox > label { display: flex; align-items: center; gap: 8px; }
.stCheckbox input[type="checkbox"] { width: 1.1rem; height: 1.1rem; accent-color: var(--brand-primary); }

div[role="progressbar"] > div { background: var(--brand-primary) !important; }
.stStatus { border-radius: var(--radius-md); box-shadow: var(--shadow-1); }

.stTable, .stDataFrame { border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-1); }

h1, h2, h3 { letter-spacing: -0.015em; }
h1 { font-weight: 700; }
h2, h3 { font-weight: 600; }

header[data-testid="stHeader"] { background: transparent; }

*:focus-visible { outline: 2px solid color-mix(in oklab, var(--brand-primary) 70%, transparent) !important; outline-offset: 2px; }

/* Mobile responsive styles */
@media (max-width: 768px) {
  /* Force single column layout on mobile */
  .row-widget.stColumns > div {
    width: 100% !important;
    margin-bottom: 1rem;
  }
  
  /* Ensure text wraps and doesn't overflow */
  .stMarkdown, .stText, p, div {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
  }
  
  /* Make sure media elements fit screen width */
  video, img, iframe {
    max-width: 100% !important;
    height: auto !important;
  }
  
  /* Reduce sidebar width on mobile when expanded */
  [data-testid="stSidebar"] {
    min-width: 280px !important;
    max-width: 90vw !important;
  }
  
  /* Adjust padding for mobile */
  .block-container {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    max-width: 100% !important;
  }
  
  /* Ensure buttons are touch-friendly */
  .stButton > button {
    min-height: 44px !important;
    padding: 0.75rem 1.25rem !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
  
  /* Make inputs touch-friendly */
  .stTextInput > div > div > input,
  .stTextArea textarea,
  .stSelectbox > div > div,
  .stNumberInput input {
    min-height: 44px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
  }
  
  /* Fix expander headers on mobile */
  .streamlit-expanderHeader, .st-expanderHeader {
    font-size: 1rem !important;
    padding: 1rem !important;
  }
  
  /* Adjust status/info boxes for mobile */
  .stAlert, .stInfo, .stSuccess, .stWarning, .stError {
    margin: 0.5rem 0 !important;
    padding: 0.75rem !important;
  }
}

/* Tablet styles */
@media (max-width: 1024px) and (min-width: 769px) {
  [data-testid="stSidebar"] {
    min-width: 300px !important;
  }
  
  .block-container {
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
  }
}